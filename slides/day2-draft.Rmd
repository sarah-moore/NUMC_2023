---
title: "Algebra and Pre-Calculus"
subtitle: "Day 2 AM"
author: "Sarah Moore & J. Seawright"
institute: "Northwestern University"
date: "Math Camp 2023"
output:
  xaringan::moon_reader:
    css: xaringan-themer.css
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      
---

```{r xaringan-themer, include = F, message = F}
library(xaringanthemer)
library("ggforce")
library(patchwork)
library(tidyverse)
library(grid)
library(gridExtra)
style_solarized_light(header_font_google   = google_font("Roboto"),
  text_font_google   = google_font("Work Sans", "300", "300i"),
  code_font_google   = google_font("IBM Plex Mono")
  )
```

# Day 2 Agenda

-   Functions and Relations

-   Exponents and Logarithms

---

# Relations

Relations generally allow comparison of variables and expressions between a *range (y)* and *domain (x)*. 

You may be familiar with the term **functions**, which are a type of relation. These are the most common relation you will encounter in statistical social science.

**Correspondences** are a type of relation more likely found in game theory. 

---
# Functions

Mathematical functions have certain constitutive parameters. 

- Functions assign *one* element of the *range (y)* to each element of the *domain (x).*

---
# Relating Sets to Functions 

- Domain: "the set of elements over which the function is defined" 

- Co-Domain: "the set from which values of f(x) may be drawn" 

- Range: "the set of all values actually reached", a subset of the co-domain 

>- In social sciences, these sets will all typically be composed of $\mathbb{R}$, i.e. the set of all real numbers. 
---
# Mapping Functions 

We might use some functional mapping to discern whether or not a relation constitutes a function:  


So if functions requiring that there is only one range element for each domain, does this mapping constitute a function? 
---
# More Function Mapping 

Let's try out a couple more maps to see whether or not they are functions: 

--
Relation $H$ is not a function. 
---
# Functions

## Vertical Line Test 
Functions can only assign one x to one y. But sometimes our domain and range are not clearly defined and we may only have a graph immediately available to us. If any vertical line will pass through more than 1 point on the graph, then the relation is not a function. 

---
# Vertical Line Test

For example, based on the vertical line test which of the following graphs is not of a function: 

```{r, eval = T, echo = F, out.height="25%", out.width="40%", fig.align="center"}

x = tibble(x = 1:10, y = 1:10)

fn1 = ggplot(x, aes(x = x, y = y)) + 
   stat_function(fun=function(x) log(x))

fn2 = ggplot(x, aes(x = x, y = y)) + 
   stat_function(fun=function(x) (0.25*x^2)) + 
  xlim(-15, 15)

fn3 = ggplot() + 
   geom_circle(aes(x0=1, y0=0, r=2)) + 
   ylim(-2, 2) + 
    xlim(-2,4)

fn1 + fn2 + fn3 + plot_layout(ncol = 3)

```


---
# Types of Functions

- Identity function-- Elements in domain are mapped to identical elements in codomain 

- Inverse function-- Function that when composed with original function returns identity function

- Surjective-- Every value in co-domain produced by value in domain

- Injective (one-to-one)-- Each value in range comes from only one value in domain

- Bijective (invertible)-- Both surjective and injective; function has an inverse

---
# Monotonic Function Terms 

```{r, echo = F}
Term = c("Increasing", "Decreasing", "Strictly increasing", "Strictly decreasing", "Weakly increasing", "Weakly decreasing", "(Strict) monotonicity")

Meaning = c("Function increases on subset of domain", "Function decreases on subset of domain", 
            "Function always increases on subset of domain", "Function always decreases on subset of domain", 
            "Function does not decrease on subset of domain", "Function does not increase on subset of domain", 
            "Order preservation; function (strictly) increasing or decreasing over domain")

knitr::kable(tibble(Term, Meaning))

```
Table 3.2 from Moore and Siegel (pg 51)

---

# Why is understanding functional behavior important? 

Obviously useful to understand a function's behavior mathematically-- i.e. to understand how the input relates to the output over the function. 

*BUT* this is where we link some of the logic of math to theory construction. Ultimately you will choose what mathematical functions likely describe the relationship between x and y. 

Therefore, we need to know how to model these things functionally. 

---
# Linear Equation versus Linear Function 

- Thus far, we have addressed functions that are also linear equations -- in that the highest power of the argument $x$ is 1. 

- *Linear functions* are a broader category of functions, to potentially include linear equations, that follow the rules of additivity and scaling: 

  - Additivity: $f(x_1+x_2)= f(x_1)+f(x_2)$

  - Scaling: $f(ax)= af(x)$ for all $a$ 
  
---
# Nonlinear Functions 

- A function is nonlinear if it does not meet the properties of scalability or additivity. 

Why does this matter?

- What if we have theoretical inclination to believe that the relationship is *nonlinear*-- what if there is a ceiling effect to our x or diminishing returns? 

- We need to be able to eventually account for these issues in our models, therefore, we must know how to model them mathematically. 

---

# Exponents

- Multiplying a number by itself: $x*x*x*x=x^4$

- Add or subtract exponents when multiplying same variable: $x^4*x^{-3}=x$ 

- Simplify bases when same exponent: $x^4*y^4=(xy)^4$ and $m^{-2}n^2=(m^{-1}n)^2$

- Power of power: multiply, $(x^3)^3=x^{3*3}=x^9$

--

**Try**: $xz^2(x^3z^{-2})^3$ 

--

$=xz^2(x^9z^{-6})$

--

$=x^{10}z^{-4}$

---
## Exponents 

Exponents are where you take a variable to some power -- e.g. $x^a$ where $x$ is a variable and $a$ is a constant. Typically, we focus on the numerical portion of the exponent--calling it `the exponent'. 


## Exponential 

An exponential is the reverse of the exponent -- here it is a number to the power of a variable, e.g. $a^x$. To get the $x$ `down', we need to use logarithms (aka logs). 

## Exponential Function
The exponential function has a particular base, $e$, (where $e$ is Euler's $e$ and is approx 2.72.)

---

# Higher Order Functions 

- Higher order polynomials refer to functions whose degree is greater than 1, thus entail a greater degree than a linear polynomial. 

- Quadratic polynomial: in the form $f(x)=ax^2+bx+c$, wherein the highest power is 2 

- Higher order polynomials: entail a degree higher than 2-- can be 3 or greater (unlikely, but could be there!)

---

# Logarithms 

Logarithms, or logs, are the inverses of exponents: the power to which you raise the base, e.g. 10, to produce a given value, e.g.$z$ 

--

Logarithms (typically base 10 $(log(x))$ or base $e$ $(ln(e))$, but any base is possible, e.g. $log_{8675309} x$ (Bases aside from $e$ and $10$ will be specified).

- $y=log(z) \leftrightarrow 10^y=z$

- $y=ln(z) \leftrightarrow e^y=z$

- $log(1)=0$

---

# Exponents and Logs 

Exponents in log are different from what you might expect:

-   $log(x^2)=2(log(x))$

-   $log (x/y)=log(x)-log(y)$ provided (x,y >0)

---

# Logs: Simplify the following

 $log(x^4)$ 
 
 $log(xy)$ 
 
 $ln(e^3)$
 
 $ln(1)$ 
 
 $log(3)+log(7)$ 

---
# Logs: Simplify the following

 $log(x^4)$   $=4log(x)$
 
 $log(xy)$ $=log(x)+log(y)$
 
 $ln(e^3)$ $=3$
 
 $ln(1)$ $=0$
 
 $log(3)+log(7)$ $=log(21)$



---
# Graphical Behavior 

---
# Graphical Behavior 


---
# Graphical Behavior 


---
# Functional Continuity

As we will discuss in the coming days, and especially if you go further along in methods courses, functional continuity is also a source of concern. 

- Some functions have certain points at which they *do not exist*. 

- On one hand, there could be a certain reason that the function breaks at a certain $x$ value. 

- In other cases, there are limiting properties of certain function such that the function cannot exist over a certain interval. 

- We won't go into more detail here, just know **continuity** and the interval we expect a function to exist over is important to understand conceptually. 
---
# Limits

The sums, sequences, and functions we have visited over the last couple of days all have *limits*. 

Particularly related to series, we say that these series **converge** while those series that just keep getting bigger and bigger and bigger (or smaller, etc.) **diverge**. 


$$lim_{N\rightarrow\infty} \sum_{i=1}^N x_i=S$$

Translation: The limit of the sum $x_i$ from $i$ to N as N approaches infinity is S. 


We can talk in the same way about sequences $lim_{i\rightarrow\infty}x_i=L$. 

---

# Limits

When we turn to functions, asking about the limit at a particular point asks: 

"What is the slope of the line at this infinitesimally tiny part of the line?"

$lim_{i\rightarrow\infty}f(x)=L$


A second way to ask this is to look at what happens to the slope as as the distance between points approaches zero. However, to actually calculate the derivative, we need to first be sure that the point is differentiable. Again, we will use limits.

---
# Differentiation

To differentiate a function, it must be *continuous* on the *interval*. 

Some functions are not differentiable or not differentiable at a certain point.

A function is continuous if:

- Limit exists 

- Limit from left equals limit from right 

- These limits equal the value at the point

---

# Limits

For us, you should be able to:

- Plug a value in to the limit and see what you get out (check for dividing by zero).

- Recognize an indeterminate limit: $\frac{0}{0}$ or $\frac{\infty}{\infty}$ 

- Compare powers in an indeterminate limit to find what happens: Same degree: limit goes to whatever fraction you get when you divide the top and bottom first terms 

Try: 
$$lim_{x\rightarrow4} \frac{x+2}{x+5}$$

$$lim_{x\rightarrow4} \frac{x^2-4}{x+2}$$


Ans: 6/9, simplifies to 2/3; simplifies to x-2; limit is 2. 

---

# What is calculus? 

- So basically, calculus is the study of *instantaneous change of a function*. 

*Well, what does that mean?* 

- On the one hand, we could be interested in *discrete* change. Discrete change tells us the difference between two points on a graph, thus the difference between two observations modeled by a function. 

- Finding discrete change means finding the slope of two points, or the *secant.* You all are probably familiar with $rise \over run$ from algebra. 

---

# What is calculus? 

- But, finding the secant has a limitation. Discrete change only tells about the functional behavior *over an interval*. Instead we might want to find the rate of change at a *very specific moment* in the function. 

- Consequently, we might also want to find extrema (min and max) of a function, any other critical points, or understand its shape. As you may remember from other courses, these are difficult tasks with merely a function $f(x)$. 

- Calculus gives us some tools to calculate instantaneous change and other downstream quantities. 
---

# Capturing Change 

- Today, we went over limits of functions. As a reminder, the limit of a function $f(x)$ at a given point $x$ is the value of the function as it approaches the given $x$. 

- Therefore, to capture discrete change we calculate the secant between two points by taking the difference of the functional limits, i.e. $f(x_2)- f(x_1)\over x_2-x_1$. 

---

# Capturing Change 

- To capture the instantaneous or continuous rate of change of a function, we *could* take the difference of the limits over iterations, making the interval between each $x$ smaller and smaller. 


- However, the concept of **tangents**, and consequentially **derivatives**, makes this easier. 

---
# Tangents and Derivatives 

- While a secant is a slope of a given line, a *tangent* is a line that touches the function at a given point. The tangent's slop can tell us about the slope of the primary function, or the instantaneous rate of change, *at that particular point*. 

- Therefore, the problem becomes *how to find the tangent's slope*. 



