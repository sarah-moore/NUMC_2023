<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Calculus I: Derivatives</title>
    <meta charset="utf-8" />
    <meta name="author" content="Sarah Moore &amp; J. Seawright" />
    <script src="libs/header-attrs-2.21/header-attrs.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

.title[
# Calculus I: Derivatives
]
.subtitle[
## Day 3 AM
]
.author[
### Sarah Moore &amp; J. Seawright
]
.institute[
### Northwestern University
]
.date[
### Math Camp 2023
]

---

# Day 3 Agenda 

- Derivatives: Concept, notation, and how-to

- Fundamental Derivative Rules 

- Partial Derivatives 

- Advanced Rules of Derivatives

---
# Calculus 

- This is often where we get a lot of nervous faces in the room. But, I can assure you that we are going to stick together in this and everyone will come out knowing some minimal calculus stuff to get you through these quant methods courses. 

---

# What is calculus? 

&gt;- So basically, calculus is the study of *instantaneous change of a function*. 

*Well, what does that mean?* 

&gt;- On the one hand, we could be interested in *discrete* change. Discrete change tells us the difference between two points on a graph, thus the difference between two observations modeled by a function. 

&gt;- Finding discrete change means finding the slope of two points, or the *secant.* You all are probably familiar with `\(rise \over run\)` from algebra. 

---

# What is calculus? 

- But, finding the secant has a limitation. Discrete change only tells about the functional behavior *over an interval*. Instead we might want to find the rate of change at a *very specific moment* in the function. 

- Consequently, we might also want to find extrema (min and max) of a function, any other critical points, or understand its shape. As you may remember from other courses, these are difficult tasks with merely a function `\(f(x)\)`. 

- Calculus gives us some tools to calculate instantaneous change and related quantities.  

---
# Capturing Change 

- In our last session we went over limits of functions.

  - As a reminder, the limit of a function `\(f(x)\)` at point `\(x\)` is the value of the function as it approaches `\(x\)`. 

- To capture discrete change we calculate the secant between two points by taking the difference of the functional limits, i.e. `\(f(x_2)- f(x_1)\over x_2-x_1\)`. 
---
# Capturing Change 

- To capture the instantaneous or continuous rate of change of a function, we *could* take the difference of the limits over iterations, making the interval between each `\(x\)` smaller and smaller. 

For example, we could take the difference of the limits of `\(f(x) = x^2\)` as `\(x\)` approaches 2: 

&lt;img src="day3-draft_files/figure-html/unnamed-chunk-1-1.png" width="35%" style="display: block; margin: auto;" /&gt;

- However, the concept of **tangents**, and thus **derivatives**, makes this easier. 

---
# Tangents and Derivatives 

- A **secant** is the slope of a line. 

- A **tangent** is a line that touches the function at a given point. The tangent's slope tells us the instantaneous rate of change *at that particular point*. 

- Therefore, if we find a tangent line for function at a specific point and determine its slope, we therefore have information about the instantaneous rate of change for the primary function.  
---
# Notation 

- There are a couple of ways to notate derivatives, they mean the same thing. 

`\(f'(x)\)`: Read: "f prime of x"

`\(dy \over dx\)`: Read: "dy-dx" or "dy over dx" 


- There also possibilities for **higher order derivatives**, i.e. derivatives of derivatives and so on...

- Higher order derivatives will use the same types of notation, with details to indicate the order of the derivative 

  &gt;- `\(f''(x)\)` or `\(d^2y\over dx^2\)` for a second derivative; `\(f'''(x)\)` or `\(d^3y\over dx^3\)` for a third derivative

---
# Calculating a Derivative

To calculate the derivative, begin with the secant formula. Use this formula to reduce the difference to some arbitrarily small value, `\(h\)`. 

As `\(h\)` goes to zero, we go from discrete to instantaneous change. 

Secant Formula: $lim_{h \to 0} \frac{f(x_0+h)-f(x_0)}{h}  

---
# Example: Calculating the Derivative of `\(f(x)=3x\)` 

Secant Formula: $lim_{h \to 0} \frac{f(x_0+h)-f(x_0)}{h} $ 

Example: `\(3x\)`

`\(lim_{h \to 0} \frac{3(x+h)-3x}{h}\)`
  
$ = lim_{h \to 0} \frac{3x+3h-3x}{h}$ 
 
$ = lim_{h \to 0} \frac{3h}{h}$ 

$ = lim_{h \to 0} 3$

$ = 3$

---
# Example: Calculating the Derivative of `\(f(x)=x^2\)` 

Secant Formula: $lim_{h \to 0} \frac{f(x_0+h)-f(x_0)}{h} $ 

Example: `\(x^2\)`

`\(lim_{h \to 0} \frac{(x+h)^2-x^2}{h}\)` 
  
$= lim_{h \to 0} \frac{x^2+2xh+2h^2-x^2}{h}  $

`\(= lim_{h \to 0} \frac{2xh+2h^2}{h} }\)` 

`\(= lim_{h \to 0} 2x+2h\)`

`\(= 2x+0=2x\)`
---

# What does it all mean? 

- Derivatives give us information regarding the rate of change of given function at a value `\(x\)`, e can use this information to learn more about the base function at that particular point. 

- Think back to what the slope of a linear equation tells us from the formula `\(y=mx+b\)`. 

- If `\(m\)` is positive, the slope is increasing; if `\(m\)` is negative, the slope is decreasing. 

- The derivative gives us information that we interpret similarly. 

---
# Derivative as information: Rate of change

- Positive Derivative: Function is increasing

- Negative Derivative: Function is decreasing

- Zeroes: Maxima or minima (extrema)

---

# Derivatives and Extrema

**Extrema**: max or min of a function, i.e. where is the top-most or bottom-most value of the function? 

&lt;img src="day3-draft_files/figure-html/unnamed-chunk-2-1.png" width="35%" style="display: block; margin: auto;" /&gt;

---

# Functional Behavior

The function must be *continuous* on the *interval* to be differentiable. 

Some functions are not differentiable *at all* or are not differentiable at *a certain point*. Need to determine the continuity of the function. 

---

# Continuity

Continuous function: 

.pull-left[
&lt;img src="day3-draft_files/figure-html/unnamed-chunk-3-1.png" style="display: block; margin: auto;" /&gt;
]

.pull-right[
&lt;img src="day3-draft_files/figure-html/unnamed-chunk-4-1.png" style="display: block; margin: auto;" /&gt;
]
---
# Derivative: Calculation

While we can calculate the derivative using the formula from before, it's a bit tedious. Can't there be another way?


Think through the work it would take to differentiate `\(4x^3+3x-2\)` using `\(\frac{f(x_0+h)-f(x_0)}{h}\)`...

---
# Derivative Rules

Take the derivative `\(f(x)\)` as `\(f'(x)\)` below with constant `\(k\)`:

- `\(f(k*x)=k*f(x), f'(k*x)=k*f'(x)\)`

  &gt;- `\(f(x)=3x\)` {$f'(x)=3$}

- `\(f(x)=k\)` has derivative `\(f'(x)=0\)`

  &gt;- `\(f(x)=4\)` `\(f'(x)=0\)`


- `\(f(x)=x^n, f'(x)=n*x^{n-1}\)`

  &gt;- `\(f(x)=x^3\)` `\(f'(x)= 3x^2\)`

- `\([f(x)+g(x)]'=f'(x)+g'(x)\)`

  &gt;- `\(f(x)=3x, g(x)=7\)` `\(3+0=3\)`


- `\([f(x)-g(x)]'=f'(x)-g'(x)\)`

  &gt;- `\([3x-7]'\)` `\(3-0=3\)`


NOTE: `\([f(x)*g(x)]!=f'(x)*g'(x)\)` Ex: `\((3x*10x)'!=30\)`
 
---
# Derivatives Two Ways

We can check these handy formulas work as they should. Let's try. Find the derivative of `\(f(x)=\frac{1}{x}\)`

Formal Definition: `\(f'(x)=lim_{h \rightarrow 0} \frac{f(x_0+h)-f(x_0)}{h}\)`

`\(f'(x)=lim_{h \rightarrow 0} \frac{\frac{1}{x+h}-\frac{1}{x}}{h}\)`

`\(f'(x)=lim_{h \rightarrow 0} \frac{\frac{x}{x(x+h)}-\frac{(x+h)}{x(x+h)}}{h}\)`

`\(f'(x)=lim_{h \rightarrow 0} \frac{\frac{-h}{x(x+h)}}{h}\)`

`\(f'(x)=lim_{h \rightarrow 0} \frac{-1}{x(x+h)}\)`

`\(f'(x)=\frac{-1}{x(x+0)}\)` 

`\(f'(x)=\frac{-1}{x^2}\)`

`\(f'(x)=-x^{-2}\)`

---
# Using the Simpler Rules  

Relevant Rules: `\(f(x)=x^n, f'(x)=n*x^{n-1}\)`

`\(f(x)=x^{-1}\)`

`\(f'(x)=-1*x^{-2}\)`

`\(f'(x)=-x^{-2}\)`

---

# Practice Problems

Find where functions are continuous and find derivatives

`\(f(x)=5\)` `\(f'(x)=0\)` 

`\(f(x)=3x-7 f'(x)= 3\)`

`\(f(x)=3x^2 f'(x)=6x\)`

$f(x)=\frac{x^2}{x} f'(x)=1 $

`\(f(s)=s^{-2} f'(s)=-2s^{-3}\)` (not continuous at \(s=0\))

$f(y)=y(y+7)(y-3) f'(y)=3y^2+8y-21 $

$f(z)=\frac{z^2-5z-6}{z+1} f'(z)=1 $ (not continuous at \(z=-1\))

---
# Higher Order Derivatives

Second derivatives ($n^{th}$ derivatives): take a derivative a second ($n^{th}$) time

Rate of change of rate of change (velocity vs acceleration)

 `\(f(x)=x^5+3x^3+2x+8\)`
 
 `\(f'(x)=5x^4+9x^2+2\)`
 
 `\(f''(x)=20x^3 + 18x\)`

---

# Partial Derivatives

Similar to a "regular" derivative; treat additional variable(s) as constants. Written as `\(\partial_x\)` or `\(\frac{\partial f}{\partial x}(x, ...)\)` 


Ex: `\(y=3xz\)`, `\(\partial_x=3z\)`

Find `\(\partial_x\)` 

$f(x,z)=7xz+4x^2+z  \partial_x=7z+8x$$

`\(f(x,y)=x+4y   \partial_x=1\)`

---
# (Additional) Rules for derivatives

So far, we've just had simple functions but what if we are multiplying, dividing, or have an otherwise-more-advanced function? 

- Product Rule: `\(f(x)*g(x)\)`

- Quotient Rule: `\(\frac{f(x)}{g(x)}\)`

- Chain Rule: `\(f(g(x))\)` 

- Other: eg, exponentials: `\(e^x\)`, `\(ln(x)\)` 

---
# (Additional) Rules for derivatives

So far, we've just had simple functions but what if we are multiplying, dividing, or have an otherwise-more-advanced function?

- Product Rule: `\(f(x)*g(x)\)`, `\(x^3*x^2\)`

- Quotient Rule: `\(\frac{f(x)}{g(x)}\)`, `\(\frac{x^4+3x}{x^2}\)`
 
- Chain Rule: `\(f(g(x))\)`, `\((x^2+1)^3\)` (composition!)

- Other: eg, exponentials: `\(e^x\)`, `\(ln(x)\)` 

---
# Product Rule

If we have two things multiplied together and need the derivative, we have two options: multiply everything and then take the derivative OR use the product rule.


**Example: (3x+4)(x+2)** 

- To take the derivative using the product rule, we do the following: 

`$$f'(x)*g(x)+g'(x)f(x)$$`  

- Two functions are `\(f(x)=3x+4\)` and `\(g(x)=x+2\)`. The derivatives are `\(f'(x)=3\)` and `\(g'(x)=1\)`, respectively.

- Substitute these in: 
`$$f'(x)*g(x)+g'(x)f(x)=3(x+2)+1(3x+4)$$`

- Simplify to get: `$$3x+6+3x+4=6x+10$$` 


---
# Product Rule: A Motivating Example 

Suppose that instead you had `\((3x^2+3x+4)(x^3+2x^2+x+2)\)`. Now the product rule is looking a little nicer! 

`\(f(x)=(3x^2+3x+4)\)` and `\(g(x)=(x^3+2x^2+x+2)\)`

`\(f'(x)=6x+3\)` and `\(g'(x)=3x^2+4x+1\)`.

We can substitute this into the formula: 

`$$f'(x)*g(x)+g'(x)f(x)$$`

`$$(6x+3)(x^3+2x^2+x+2)+(3x^2+4x+1)(3x^2+3x+4)$$` 
`$$= 15x^4 + 36x^3 + 39x^2 + 34x + 10$$`

---
# Quotient Rule

Example: `\(\frac{3x^2}{x+2}\)`.

Formula is `\(\frac{f'(x)*g(x)-g'(x)f(x)}{(g(x))^2}\)`

So, we identify the following: `\(f(x)=3x^2\)` and `\(g(x)=x+2\)`, therefore `\(f'(x)=6x\)` and `\(g'(x)=1\)`.

Plug in to get: 

`$$\frac{6x(x+2)-1(3x^2)}{(x+2)^2}=\frac{6x^2+12x-3x^2}{(x+2)^2}=\frac{3x^2+12x}{(x+2)^2}$$`

Practice:  `\(\frac{x-4}{x+5}\)` `\(\frac{3x^3}{x+2}\)`

Ans:$\frac{9}{(x+5)^2}$; `\(\frac{6x^3+18x^2}{(x+2)^2}\)`

---
# Chain Rule 

Sometimes, you have a function to a power: `\(f(g(x))=(x+3)^3\)`. We can use the chain rule to evaluate this. 

What we do is we take the derivative of the function and multiply it by the derivative of the inside: `\(f'(g(x))*g'(x)\)`. 

So, for our example: `\(f(x)=x^3\)` and `\(g(x)=(x+3)\)`. 

- The derivative of each is `\(f'(x)=3x^2\)` and `\(g'(x)=1\)`.

- We substitute in to get: `\(3(x+3)^2*1\)`. 

---
# More Chain Rule 

- **Try:** `\(f(x)=(2x^2+8x)^4\)`  `\(f(x)=(9x-x^2)^6\)`  

- `\(4(4x+8)(2x^2+8x)^3\)` 

`\(6(9-2x)(9x-x^2)^5=(54-12x)(9x-2x^2)^5\)`

---
# Exponentials: `\(e\)` and `\(ln\)`

You can take the derivative of continuous functions -- including those with a log and/or `\(e\)` in them. The rules are a little hard, but once you learn them, it's not too bad: 

`\(f(x)=e^x\)` \hspace{2mm} `\(f'(x)=e^x\)` (a favorite of mine) 

`\(f(x)=e^{g(x)}\)` \hspace{2mm} `\(f'(x)=e^{g(x)}*g'(x)\)`  

`\(f(x)=a^x\)` \hspace{2mm} `\(f'(x)=a^x(ln(a))\)` (used rarely, if ever) 

`\(f(x)=ln(x)\)` \hspace{2mm} `\(f'(x)=\frac{1}{x}\)` 

`\(f(x)=ln(g(x))\)` \hspace{2mm} `\(f'(x)=\frac{1}{x}*g'(x)\)` 

`\(f(x)=log_a(x)\)` \hspace{2mm} `\(f'(x)=\frac{1}{xln(a)}\)` (rarely used) 

You can make these more complicated by including a function of x. How would we take the derivative in that case? \pause Chain rule!

Example: `\(ln(3x)\)` \pause `\(f'(x)=\frac{1}{3x}*3=\frac{1}{x}\)`.  
\pause

Try: `\(ln(x^2)\)`, `\(e^{2x}\)`} 

ANS: `\(\frac{2}{x}\)` and `\(2e^{2x}\)`

---
# Derivatives in Review

There are a few more handy rules and techniques that are important, perhaps even on your homework:

[[Source on Stack Exchange](https://math.stackexchange.com/questions/4147380/what-could-be-the-easiest-way-to-remember-all-common-derivative-and-common-integ)](images/derivatives.png)


And if you really want to explore more, check out all [these techniques.](https://tutorial.math.lamar.edu/pdf/calculus_cheat_sheet_all.pdf) 
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
